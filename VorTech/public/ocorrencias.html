<!DOCTYPE html>
<html>
<title>VorTech</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/default.css" title = "default" />
<link rel="alternate stylesheet" type="text/css" media="screen" href="stylesheets/black.css" title = "black"/>
<link rel="alternate stylesheet" type="text/css" media="screen" href="stylesheets/yellow_light.css" title = "yellow_light"/>
<link rel="alternate stylesheet" type="text/css" media="screen" href="stylesheets/alternative.css" title = "alternative"/>
<link rel="alternate stylesheet" type="text/css" media="screen" href="stylesheets/light_purple.css" title = "purple"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="javascripts/filterTable.js"></script>   
<script src="javascripts/funções.js"></script>   
<body class="background-color w3-content" style="max-width:1600px">

<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse sidebar-color w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
  <div class="w3-container">
    <a href="#" onclick="w3_close()" class="w3-hide-large w3-right w3-jumbo w3-padding w3-hover-grey" title="close menu">
      <i class="fa fa-remove"></i>
    </a>
    <img src="/images/ips.png" ><br><br>
    <h4><b>VorTech</b></h4>
    <p class="sidebar-letters">Insituto Politécnico de Setúbal</p>
  </div>
  <div class="w3-bar-block">
    <a href="index.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding w3-text-teal"><i class="fa fa-th-large fa-fw w3-margin-right"></i>Home</a> 
    <a href="requisitar.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-edit fa-fw w3-margin-right"></i>Registar</a> 
    <a href="consultas.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-search fa-fw w3-margin-right"></i>Consultar</a>
    <a href="relatorios.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-file fa-fw w3-margin-right"></i>Relatórios</a>
    <a href="ocorrencias.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-id-card fa-fw w3-margin-right"></i>Ocorrências</a>
    <a href="artigosperdidos.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-inbox fa-fw w3-margin-right"></i>Artigos Perdidos</a>
    <a href="registarEntradaSaida.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-calendar fa-fw w3-margin-right"></i>Registar Entrada/Saída</a>
    <a href="definições.html" onclick="w3_close()" class="w3-bar-item w3-button w3-padding"><i class="fa fa-cog fa-fw w3-margin-right"></i>Definições</a>
  </div>
</nav>
<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:300px">

  <!-- Header -->
  <header id="portfolio">
    <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()"><i class="fa fa-bars"></i></span>
    <div class="w3-container">
    <h1><b>Ocorrências</b></h1>
    <div class="w3-section w3-bottombar w3-padding-16">
      <!-- <span class="w3-margin-right">Filter:</span>  -->
      <!-- <button class="w3-button w3-black">ALL</button> -->
      <button onclick="consultarOcorrencias()" class="w3-button w3-white w3-hide-small"><i class="fa fa-search w3-margin-right"></i>Consultar Ocorrências</i></button>
      <button onclick="registarOcorrencias()" class="w3-button w3-white w3-hide-small"><i class="fa fa-edit w3-margin-right"></i>Registar Ocorrências</button>
    </div>
    </div>
  </header>

    <div id="consultarOcorrencias" style="text-align: center">
            <h1><b>Consultar Ocorrências</b></h1>
            <button class="w3-button w3-black w3-margin-bottom" type="button" onclick="openAlterarEstadoOcorrencia()">Alterar Estado</button>
            <button class="w3-button w3-black w3-margin-bottom" type="button" onclick="openAlterarOcorrencia()">Alterar Ocorrência</button>            
            <button class="w3-button w3-black w3-margin-bottom" type="button" onclick="openEliminarOcorrencia()">Eliminar Ocorrência</button><br><br>
            <label>ID: </label>
            <input id="filterOcorrencias" class="filter" onkeyup="filterOcorrências()" placeholder="Insera o ID" /> 
            &nbsp; &nbsp; &nbsp; 
            <label>Estado: </label>
            <select onchange="filterSelectOcorrências()" id="filterEstadoOcorrencias" class="filter">
              <option value="">-</option>  
              <option value="novo">Novo</option>  
              <option value="analise">Em Analise</option>
              <option value="resolvido">Resolvido</option>  
              <option value="fechado">Fechado</option>  
            <select> 
            <hr class="w3-opacity">
            <form action="/action_page.php" target="_blank">
              <div class="table-wrapper2">
                  <table id="ocorrencias" class="f2-table">
                      <thead>
                      <tr>
                          <th>ID</th>
                          <th>Data da Ocorrência</th>
                          <th>Descrição</th>
                          <th>Estado</th>
                          <th>Local</th>
                          <th>Reportado por</th>
                      </tr>
                      </thead>
                      <tbody><tbody>
                      </table>  
              </div>
            </form>
   
      
        </div>

 
    <div id="registarOcorrencias" style="text-align: center; display: none">
        <h1><b>Registar Ocorrências</b></h1>
        <hr class="w3-opacity">
        <form action="/registarOcorrencia" method="POST">
          <div class="w3-section">
              <label>Ocorrência ID</label>
              <input class="w3-input w3-border" type="text" name="id" required>
            </div>
          <div class="w3-section">
              <label>Data do Ocorrido</label>
              <input class="w3-input w3-border" type="datetime-local" name="dataOcorrido" required>
            </div>
            <div class="w3-section">
              <label>Descrição</label>
              <textarea class="w3-input w3-border" type="text" name="descricao" required></textarea>
            </div>
            <div class="w3-section">
              <label>Reportado por:</label>
              <input class="w3-input w3-border" type="text" name="reportadoPor" required>
            </div>
            <div class="w3-section">
                <label>Local</label>
                <input class="w3-input w3-border" type="text" name="local" required>
              </div>
            <button type="submit" class="w3-button w3-black w3-margin-bottom"><i class="fa fa-pencil-square w3-margin-right"></i>Registar</button>
        </form>
    </div>

    <div class="form-popup" id="alterarOcorrencia">
      <form action="/alterarOcorrencias" method="POST" class="form-container">
        <h1>Alterar Ocorrência</h1>
    
        <label for="numeroIPS"><b>ID Ocorrência</b></label>
        <input class="w3-input w3-border" type="text" name="id" required>

        <label>Descrição</label>
        <input class="w3-input w3-border" type="text" name="descricao" required>


        <label>Reportado por:</label>
        <input class="w3-input w3-border" type="text" name="reportadoPor" required>


            <label>Local</label>
            <input class="w3-input w3-border" type="text" name="local" required>
            <select id="estadoOcorrencia" name="estadoOcorrencia" class="w3-input w3-border">
                <option value="5">Novo</option>  
                <option value="6">Em Analise</option>
                <option value="7">Resolvido</option>  
                <option value="8">Fechado</option>  
              <select>   
        <br>
        <button class="w3-button w3-black w3-margin-bottom" type="submit" class="btn">Alterar</button>
        <button class="w3-button w3-black w3-margin-bottom" type="button" class="btn cancel" onclick="closeAlterarOcorrencia()">Cancelar</button>
      </form>
  </div>

  <div class="form-popup" id="alterarEstadoOcorrencia">
      <form action="/alterarEstadoOcorrencias" method="POST" class="form-container">
        <h1>Alterar Estado da Ocorrência</h1>
    
        <label for="numeroIPS"><b>Ocorrência ID</b></label>
        <input class="w3-input w3-border" type="text" name="id" required>

        <label>Estado</label>
        <select name="estadoOcorrencia" class="w3-input w3-border">
            <option value="">-</option>  
            <option value="5">Novo</option>  
            <option value="6">Em Analise</option>
            <option value="7">Resolvido</option>  
            <option value="8">Fechado</option>  
          <select>   
          <br>  
        <button class="w3-button w3-black w3-margin-bottom" type="submit" class="btn">Alterar</button>
        <button class="w3-button w3-black w3-margin-bottom" type="button" class="btn cancel" onclick="closeAlterarEstadoOcorrencia()">Cancelar</button>
      </form>
  </div>

  <div class="form-popup" id="eliminarOcorrencia">
    <form action="/eliminarOcorrencia" method="POST" class="form-container">
      <h1>Eliminar Ocorrência</h1>
  
      <label for="numeroIPS"><b>Ocorrência ID</b></label>
      <input class="w3-input w3-border" type="text" name="id" required>

      <button class="w3-button w3-black w3-margin-bottom" type="submit" class="btn">Eliminar</button>
      <button class="w3-button w3-black w3-margin-bottom" type="button" class="btn cancel" onclick="closeEliminarOcorrencia()">Cancelar</button>
    </form>
  </div>


  
  <div class="separador2 w3-center w3-padding-24" style="text-align:center">Instituto Politécnico de Setúbal & Programa BrightStart</div>

<!-- End page content -->
</div>
</body>
</html>
 